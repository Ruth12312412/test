/* empty css             *//* empty css                   *//* empty css                *//* empty css               *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                        */import"./el-tooltip-l0sNRNKZ.js";/* empty css                     *//* empty css               *//* empty css                  */import{d as B,r as y,a as A,c as u,e,w as o,a1 as $,am as F,b as t,$ as R,a0 as S,h as M,j as N,k as O,ag as G,al as P,an as X,m as q,n as H,C as J,G as g,a8 as k,F as K,A as Q,L as c,p as m,o as p,ao as W,ai as Y,ah as Z,X as ee,_ as le}from"./index-DFWwEtNp.js";const te={class:"image-page"},oe={class:"image-content"},ae={class:"control-panel"},se={class:"image-gallery"},ne={key:0,class:"generating-placeholder"},ie={key:1,class:"empty-state"},de={key:2,class:"image-grid"},re={class:"image-wrapper"},ce=["src","alt"],ue={class:"image-overlay"},me={class:"image-info"},pe={class:"image-prompt"},_e={class:"image-meta"},fe={class:"preview-container"},ve=["src","alt"],ge={class:"preview-info"},we=B({__name:"Image",setup(he){const w=y(!1),b=y(!1),r=y({}),s=A({prompt:"",model:"dall-e-3",size:"1024x1024",count:1}),_=y([{id:1,url:"https://picsum.photos/400/400?random=1",prompt:"一只可爱的小猫在花园里玩耍",model:"DALL-E 3",size:"1024x1024",createTime:"2024-01-15 14:30"},{id:2,url:"https://picsum.photos/400/400?random=2",prompt:"未来科技城市的夜景",model:"Midjourney",size:"1024x1024",createTime:"2024-01-15 14:25"}]),I=async()=>{if(!s.prompt.trim()){m.warning("请输入图片描述");return}w.value=!0;try{await new Promise(n=>setTimeout(n,3e3));for(let n=0;n<s.count;n++){const l={id:Date.now()+n,url:`https://picsum.photos/400/400?random=${Date.now()+n}`,prompt:s.prompt,model:s.model,size:s.size,createTime:new Date().toLocaleString()};_.value.unshift(l)}m.success("图片生成成功"),s.prompt=""}catch{m.error("图片生成失败")}finally{w.value=!1}},C=async n=>{try{const f=await(await fetch(n.url)).blob(),d=URL.createObjectURL(f),i=document.createElement("a");i.href=d,i.download=`ai-image-${n.id}.jpg`,i.click(),URL.revokeObjectURL(d),m.success("图片下载成功")}catch{m.error("图片下载失败")}},z=async n=>{try{await ee.confirm("确定要删除这张图片吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const l=_.value.findIndex(f=>f.id===n);l>-1&&(_.value.splice(l,1),m.success("删除成功"))}catch{}};return(n,l)=>{const f=O,d=N,i=P,x=G,L=X,v=J,h=q,U=M,V=S,D=R,T=$,j=F;return p(),u("div",te,[e(T,{class:"card-shadow"},{header:o(()=>l[5]||(l[5]=[t("div",{class:"page-header"},[t("h2",{class:"gradient-text"},"AI绘图"),t("p",null,"使用AI技术生成精美图片")],-1)])),default:o(()=>[t("div",oe,[e(D,{gutter:20},{default:o(()=>[e(V,{xs:24,lg:8},{default:o(()=>[t("div",ae,[e(U,{model:s,"label-width":"80px"},{default:o(()=>[e(d,{label:"描述"},{default:o(()=>[e(f,{modelValue:s.prompt,"onUpdate:modelValue":l[0]||(l[0]=a=>s.prompt=a),type:"textarea",rows:4,placeholder:"请描述您想要生成的图片..."},null,8,["modelValue"])]),_:1}),e(d,{label:"模型"},{default:o(()=>[e(x,{modelValue:s.model,"onUpdate:modelValue":l[1]||(l[1]=a=>s.model=a),placeholder:"选择模型"},{default:o(()=>[e(i,{label:"DALL-E 3",value:"dall-e-3"}),e(i,{label:"Midjourney",value:"midjourney"}),e(i,{label:"Stable Diffusion",value:"stable-diffusion"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"尺寸"},{default:o(()=>[e(x,{modelValue:s.size,"onUpdate:modelValue":l[2]||(l[2]=a=>s.size=a),placeholder:"选择尺寸"},{default:o(()=>[e(i,{label:"1024x1024",value:"1024x1024"}),e(i,{label:"1024x1792",value:"1024x1792"}),e(i,{label:"1792x1024",value:"1792x1024"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"数量"},{default:o(()=>[e(L,{modelValue:s.count,"onUpdate:modelValue":l[3]||(l[3]=a=>s.count=a),min:1,max:4,"show-stops":""},null,8,["modelValue"])]),_:1}),e(d,null,{default:o(()=>[e(h,{type:"primary",class:"generate-btn btn-animate",loading:w.value,onClick:I,block:""},{default:o(()=>[e(v,null,{default:o(()=>[e(g(k))]),_:1}),l[6]||(l[6]=H(" 生成图片 "))]),_:1,__:[6]},8,["loading"])]),_:1})]),_:1},8,["model"])])]),_:1}),e(V,{xs:24,lg:16},{default:o(()=>[t("div",se,[w.value?(p(),u("div",ne,l[7]||(l[7]=[t("div",{class:"loading-animation"},[t("div",{class:"loading-spinner"}),t("p",null,"AI正在为您生成图片...")],-1)]))):_.value.length===0?(p(),u("div",ie,[e(v,{size:"80",color:"#c0c4cc"},{default:o(()=>[e(g(k))]),_:1}),l[8]||(l[8]=t("p",null,"暂无生成的图片",-1)),l[9]||(l[9]=t("p",{class:"hint"},"输入描述并点击生成按钮开始创作",-1))])):(p(),u("div",de,[(p(!0),u(K,null,Q(_.value,a=>(p(),u("div",{key:a.id,class:"image-item card-shadow"},[t("div",re,[t("img",{src:a.url,alt:a.prompt},null,8,ce),t("div",ue,[e(h,{type:"primary",circle:"",onClick:E=>r.value(a)},{default:o(()=>[e(v,null,{default:o(()=>[e(g(W))]),_:1})]),_:2},1032,["onClick"]),e(h,{type:"success",circle:"",onClick:E=>C(a)},{default:o(()=>[e(v,null,{default:o(()=>[e(g(Y))]),_:1})]),_:2},1032,["onClick"]),e(h,{type:"danger",circle:"",onClick:E=>z(a.id)},{default:o(()=>[e(v,null,{default:o(()=>[e(g(Z))]),_:1})]),_:2},1032,["onClick"])])]),t("div",me,[t("p",pe,c(a.prompt),1),t("p",_e,c(a.model)+" · "+c(a.size),1)])]))),128))]))])]),_:1})]),_:1})])]),_:1}),e(j,{modelValue:b.value,"onUpdate:modelValue":l[4]||(l[4]=a=>b.value=a),title:"图片预览",width:"80%",center:""},{default:o(()=>[t("div",fe,[t("img",{src:r.value.url,alt:r.value.prompt,class:"preview-image"},null,8,ve),t("div",ge,[t("h3",null,c(r.value.prompt),1),t("p",null,"模型: "+c(r.value.model),1),t("p",null,"尺寸: "+c(r.value.size),1),t("p",null,"生成时间: "+c(r.value.createTime),1)])])]),_:1},8,["modelValue"])])}}}),je=le(we,[["__scopeId","data-v-18a8671a"]]);export{je as default};
