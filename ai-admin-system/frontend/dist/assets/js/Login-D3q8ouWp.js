/* empty css             *//* empty css                    *//* empty css                     *//* empty css                  *//* empty css                 */import{d as P,u as I,r as d,a as U,c as B,b as i,e as r,w as s,E as C,f as S,o as T,g as K,h as M,i as k,j as N,k as h,l as E,m as A,n as z,p as m,_ as j}from"./index-DFWwEtNp.js";const D={class:"login-container"},G={class:"login-form-container"},H={class:"login-form"},J=P({__name:"Login",setup(O){const F=S(),v=I(),p=d("login"),g=d(!1),f=d(!1),c=d(),_=d(),t=U({username:"admin",password:"admin123"}),L={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},a=U({username:"",email:"",password:"",confirmPassword:""}),R={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在 3 到 20 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(u,e,l)=>{e!==a.password?l(new Error("两次输入密码不一致")):l()},trigger:"blur"}]},w=async()=>{c.value&&await c.value.validate(async u=>{if(u){g.value=!0;try{await v.loginUser(t.username,t.password),m.success("登录成功"),F.push("/")}catch(e){m.error(e.message||"登录失败")}finally{g.value=!1}}})},b=async()=>{_.value&&await _.value.validate(async u=>{if(u){f.value=!0;try{await v.registerUser({username:a.username,email:a.email,password:a.password,nickname:a.username}),m.success("注册成功，请登录"),p.value="login"}catch(e){m.error(e.message||"注册失败")}finally{f.value=!1}}})};return(u,e)=>{const l=h,n=N,V=A,y=M,x=K,q=C;return T(),B("div",D,[e[10]||(e[10]=i("div",{class:"login-bg"},[i("div",{class:"bg-animation"})],-1)),i("div",G,[i("div",H,[e[9]||(e[9]=i("div",{class:"login-header"},[i("h1",{class:"gradient-text"},"AI后台管理系统"),i("p",null,"智能化管理，让AI为您服务")],-1)),r(q,{modelValue:p.value,"onUpdate:modelValue":e[6]||(e[6]=o=>p.value=o),class:"login-tabs"},{default:s(()=>[r(x,{label:"登录",name:"login"},{default:s(()=>[r(y,{ref_key:"loginFormRef",ref:c,model:t,rules:L,onSubmit:k(w,["prevent"])},{default:s(()=>[r(n,{prop:"username"},{default:s(()=>[r(l,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=o=>t.username=o),placeholder:"请输入用户名",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),r(n,{prop:"password"},{default:s(()=>[r(l,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=o=>t.password=o),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":"",onKeyup:E(w,["enter"])},null,8,["modelValue"])]),_:1}),r(n,null,{default:s(()=>[r(V,{type:"primary",size:"large",class:"login-btn btn-animate",loading:g.value,onClick:w},{default:s(()=>e[7]||(e[7]=[z(" 登录 ")])),_:1,__:[7]},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1}),r(x,{label:"注册",name:"register"},{default:s(()=>[r(y,{ref_key:"registerFormRef",ref:_,model:a,rules:R,onSubmit:k(b,["prevent"])},{default:s(()=>[r(n,{prop:"username"},{default:s(()=>[r(l,{modelValue:a.username,"onUpdate:modelValue":e[2]||(e[2]=o=>a.username=o),placeholder:"请输入用户名",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),r(n,{prop:"email"},{default:s(()=>[r(l,{modelValue:a.email,"onUpdate:modelValue":e[3]||(e[3]=o=>a.email=o),placeholder:"请输入邮箱",size:"large","prefix-icon":"Message"},null,8,["modelValue"])]),_:1}),r(n,{prop:"password"},{default:s(()=>[r(l,{modelValue:a.password,"onUpdate:modelValue":e[4]||(e[4]=o=>a.password=o),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),r(n,{prop:"confirmPassword"},{default:s(()=>[r(l,{modelValue:a.confirmPassword,"onUpdate:modelValue":e[5]||(e[5]=o=>a.confirmPassword=o),type:"password",placeholder:"请确认密码",size:"large","prefix-icon":"Lock","show-password":"",onKeyup:E(b,["enter"])},null,8,["modelValue"])]),_:1}),r(n,null,{default:s(()=>[r(V,{type:"primary",size:"large",class:"login-btn btn-animate",loading:f.value,onClick:b},{default:s(()=>e[8]||(e[8]=[z(" 注册 ")])),_:1,__:[8]},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["modelValue"])])])])}}}),ee=j(J,[["__scopeId","data-v-d5a78587"]]);export{ee as default};
