/* empty css             *//* empty css                    *//* empty css                *//* empty css               *//* empty css                 *//* empty css                     *//* empty css                  *//* empty css                  *//* empty css                     */import{ab as w,d as Q,r as b,a as S,c as C,e as l,w as a,a1 as X,E as Y,g as Z,b as o,y as D,h as ee,j as le,aC as ae,C as te,G as j,aD as R,n as r,ag as oe,al as se,m as ne,k as re,ar as ue,L as _,p as u,o as k,_ as de}from"./index-DFWwEtNp.js";const A={transcribe:y=>w({url:"/speech/transcribe",method:"post",data:y,headers:{"Content-Type":"multipart/form-data"}}),synthesize:y=>w({url:"/speech/synthesize",method:"post",data:y,headers:{"Content-Type":"multipart/form-data"}}),translate:y=>w({url:"/speech/translate",method:"post",data:y,headers:{"Content-Type":"multipart/form-data"}}),getVoices:()=>w({url:"/speech/voices",method:"get"}),getLanguages:()=>w({url:"/speech/languages",method:"get"})},ie={class:"speech-container"},pe={class:"tab-content"},me={key:0,class:"result-section"},fe={class:"result-info"},ce={class:"tab-content"},_e={key:0,class:"result-section"},ve={class:"audio-player"},ge=["src"],be={class:"result-info"},ye={class:"tab-content"},he={key:0,class:"result-section"},xe={class:"result-info"},we=Q({__name:"Speech",setup(y){const N=b("stt"),d=S({file:null,language:""}),F=b(!1),v=b(null),i=S({text:"",voice:"alloy"}),z=b(!1),h=b(null),m=S({file:null,targetLanguage:"en"}),U=b(!1),g=b(null),G=t=>{d.file=t.raw},O=t=>{const e=t.type.startsWith("audio/"),f=t.size/1024/1024<25;return e?f?!0:(u.error("éŸ³é¢‘æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡25MB!"),!1):(u.error("åªèƒ½ä¸Šä¼ éŸ³é¢‘æ–‡ä»¶!"),!1)},W=async()=>{if(!d.file){u.error("è¯·é€‰æ‹©éŸ³é¢‘æ–‡ä»¶");return}F.value=!0;try{const t=new FormData;t.append("file",d.file),d.language&&t.append("language",d.language);const e=await A.transcribe(t);v.value=e.data,u.success("è¯­éŸ³è¯†åˆ«å®Œæˆ")}catch(t){console.error("è¯­éŸ³è¯†åˆ«å¤±è´¥:",t),u.error("è¯­éŸ³è¯†åˆ«å¤±è´¥")}finally{F.value=!1}},q=async()=>{if(!i.text.trim()){u.error("è¯·è¾“å…¥æ–‡æœ¬å†…å®¹");return}z.value=!0;try{const t=new FormData;t.append("text",i.text),t.append("voice",i.voice);const e=await A.synthesize(t);h.value=e.data,u.success("è¯­éŸ³åˆæˆå®Œæˆ")}catch(t){console.error("è¯­éŸ³åˆæˆå¤±è´¥:",t),u.error("è¯­éŸ³åˆæˆå¤±è´¥")}finally{z.value=!1}},K=t=>{m.file=t.raw},P=t=>{const e=t.type.startsWith("audio/"),f=t.size/1024/1024<25;return e?f?!0:(u.error("éŸ³é¢‘æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡25MB!"),!1):(u.error("åªèƒ½ä¸Šä¼ éŸ³é¢‘æ–‡ä»¶!"),!1)},$=async()=>{if(!m.file){u.error("è¯·é€‰æ‹©éŸ³é¢‘æ–‡ä»¶");return}U.value=!0;try{const t=new FormData;t.append("file",m.file),t.append("target_language",m.targetLanguage);const e=await A.translate(t);g.value=e.data,u.success("éŸ³é¢‘ç¿»è¯‘å®Œæˆ")}catch(t){console.error("éŸ³é¢‘ç¿»è¯‘å¤±è´¥:",t),u.error("éŸ³é¢‘ç¿»è¯‘å¤±è´¥")}finally{U.value=!1}},I=t=>{if(t===0)return"0 Bytes";const e=1024,f=["Bytes","KB","MB","GB"],x=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,x)).toFixed(2))+" "+f[x]},H=t=>{const e=document.createElement("a");e.href=t,e.download="synthesized_audio.mp3",document.body.appendChild(e),e.click(),document.body.removeChild(e)};return(t,e)=>{const f=te,x=ae,p=le,s=se,B=oe,V=ne,L=ee,M=re,c=ue,E=X,T=Z,J=Y;return k(),C("div",ie,[l(E,{class:"page-card"},{header:a(()=>e[8]||(e[8]=[o("div",{class:"card-header"},[o("h2",null,"ðŸŽ¤ è¯­éŸ³æœåŠ¡"),o("p",null,"è¯­éŸ³è¯†åˆ«ã€è¯­éŸ³åˆæˆå’ŒéŸ³é¢‘ç¿»è¯‘åŠŸèƒ½")],-1)])),default:a(()=>[l(J,{modelValue:N.value,"onUpdate:modelValue":e[7]||(e[7]=n=>N.value=n),class:"speech-tabs"},{default:a(()=>[l(T,{label:"è¯­éŸ³è½¬æ–‡å­—",name:"stt"},{default:a(()=>[o("div",pe,[l(E,{shadow:"never"},{default:a(()=>[e[13]||(e[13]=o("h3",null,"ðŸŽ™ï¸ è¯­éŸ³è¯†åˆ«",-1)),e[14]||(e[14]=o("p",{class:"description"},"ä¸Šä¼ éŸ³é¢‘æ–‡ä»¶ï¼Œå°†è¯­éŸ³å†…å®¹è½¬æ¢ä¸ºæ–‡å­—",-1)),l(L,{model:d,"label-width":"100px"},{default:a(()=>[l(p,{label:"éŸ³é¢‘æ–‡ä»¶"},{default:a(()=>[l(x,{ref:"sttUpload","auto-upload":!1,"on-change":G,"before-upload":O,accept:"audio/*",drag:""},{tip:a(()=>e[9]||(e[9]=[o("div",{class:"el-upload__tip"}," æ”¯æŒ mp3/wav/m4a/flac ç­‰æ ¼å¼ï¼Œæ–‡ä»¶å¤§å°ä¸è¶…è¿‡25MB ",-1)])),default:a(()=>[l(f,{class:"el-icon--upload"},{default:a(()=>[l(j(R))]),_:1}),e[10]||(e[10]=o("div",{class:"el-upload__text"},[r(" å°†éŸ³é¢‘æ–‡ä»¶æ‹–åˆ°æ­¤å¤„ï¼Œæˆ–"),o("em",null,"ç‚¹å‡»ä¸Šä¼ ")],-1))]),_:1,__:[10]},512)]),_:1}),l(p,{label:"è¯­è¨€"},{default:a(()=>[l(B,{modelValue:d.language,"onUpdate:modelValue":e[0]||(e[0]=n=>d.language=n),placeholder:"é€‰æ‹©è¯­è¨€ï¼ˆå¯é€‰ï¼‰"},{default:a(()=>[l(s,{label:"è‡ªåŠ¨æ£€æµ‹",value:""}),l(s,{label:"ä¸­æ–‡",value:"zh"}),l(s,{label:"English",value:"en"}),l(s,{label:"æ—¥æœ¬èªž",value:"ja"}),l(s,{label:"í•œêµ­ì–´",value:"ko"})]),_:1},8,["modelValue"])]),_:1}),l(p,null,{default:a(()=>[l(V,{type:"primary",onClick:W,loading:F.value,disabled:!d.file},{default:a(()=>e[11]||(e[11]=[r(" å¼€å§‹è¯†åˆ« ")])),_:1,__:[11]},8,["loading","disabled"])]),_:1})]),_:1},8,["model"]),v.value?(k(),C("div",me,[e[12]||(e[12]=o("h4",null,"è¯†åˆ«ç»“æžœï¼š",-1)),l(M,{modelValue:v.value.text,"onUpdate:modelValue":e[1]||(e[1]=n=>v.value.text=n),type:"textarea",rows:6,readonly:"",class:"result-text"},null,8,["modelValue"]),o("div",fe,[l(c,null,{default:a(()=>[r("æ–‡ä»¶ï¼š"+_(v.value.filename),1)]),_:1}),l(c,{type:"info"},{default:a(()=>[r("å¤§å°ï¼š"+_(I(v.value.fileSize)),1)]),_:1}),l(c,{type:"success"},{default:a(()=>[r("è¯­è¨€ï¼š"+_(v.value.language||"è‡ªåŠ¨æ£€æµ‹"),1)]),_:1})])])):D("",!0)]),_:1,__:[13,14]})])]),_:1}),l(T,{label:"æ–‡å­—è½¬è¯­éŸ³",name:"tts"},{default:a(()=>[o("div",ce,[l(E,{shadow:"never"},{default:a(()=>[e[18]||(e[18]=o("h3",null,"ðŸ”Š è¯­éŸ³åˆæˆ",-1)),e[19]||(e[19]=o("p",{class:"description"},"å°†æ–‡å­—å†…å®¹è½¬æ¢ä¸ºè¯­éŸ³éŸ³é¢‘",-1)),l(L,{model:i,"label-width":"100px"},{default:a(()=>[l(p,{label:"æ–‡æœ¬å†…å®¹"},{default:a(()=>[l(M,{modelValue:i.text,"onUpdate:modelValue":e[2]||(e[2]=n=>i.text=n),type:"textarea",rows:6,placeholder:"è¯·è¾“å…¥è¦è½¬æ¢ä¸ºè¯­éŸ³çš„æ–‡å­—å†…å®¹...",maxlength:"4000","show-word-limit":""},null,8,["modelValue"])]),_:1}),l(p,{label:"è¯­éŸ³ç±»åž‹"},{default:a(()=>[l(B,{modelValue:i.voice,"onUpdate:modelValue":e[3]||(e[3]=n=>i.voice=n),placeholder:"é€‰æ‹©è¯­éŸ³ç±»åž‹"},{default:a(()=>[l(s,{label:"Alloy - ä¸­æ€§è¯­éŸ³",value:"alloy"}),l(s,{label:"Echo - ç”·æ€§è¯­éŸ³",value:"echo"}),l(s,{label:"Fable - è‹±å¼ç”·æ€§è¯­éŸ³",value:"fable"}),l(s,{label:"Onyx - æ·±æ²‰ç”·æ€§è¯­éŸ³",value:"onyx"}),l(s,{label:"Nova - å¥³æ€§è¯­éŸ³",value:"nova"}),l(s,{label:"Shimmer - æŸ”å’Œå¥³æ€§è¯­éŸ³",value:"shimmer"})]),_:1},8,["modelValue"])]),_:1}),l(p,null,{default:a(()=>[l(V,{type:"primary",onClick:q,loading:z.value,disabled:!i.text.trim()},{default:a(()=>e[15]||(e[15]=[r(" ç”Ÿæˆè¯­éŸ³ ")])),_:1,__:[15]},8,["loading","disabled"])]),_:1})]),_:1},8,["model"]),h.value?(k(),C("div",_e,[e[17]||(e[17]=o("h4",null,"ç”Ÿæˆç»“æžœï¼š",-1)),o("div",ve,[o("audio",{src:h.value.audioUrl,controls:"",preload:"metadata"}," æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ ",8,ge)]),o("div",be,[l(c,null,{default:a(()=>[r("è¯­éŸ³ï¼š"+_(h.value.voice),1)]),_:1}),l(c,{type:"info"},{default:a(()=>[r("é•¿åº¦ï¼š"+_(h.value.textLength)+" å­—ç¬¦",1)]),_:1}),l(V,{size:"small",onClick:e[4]||(e[4]=n=>H(h.value.audioUrl))},{default:a(()=>e[16]||(e[16]=[r(" ä¸‹è½½éŸ³é¢‘ ")])),_:1,__:[16]})])])):D("",!0)]),_:1,__:[18,19]})])]),_:1}),l(T,{label:"éŸ³é¢‘ç¿»è¯‘",name:"translate"},{default:a(()=>[o("div",ye,[l(E,{shadow:"never"},{default:a(()=>[e[24]||(e[24]=o("h3",null,"ðŸŒ éŸ³é¢‘ç¿»è¯‘",-1)),e[25]||(e[25]=o("p",{class:"description"},"å°†éŸ³é¢‘å†…å®¹ç¿»è¯‘ä¸ºæŒ‡å®šè¯­è¨€çš„æ–‡å­—",-1)),l(L,{model:m,"label-width":"100px"},{default:a(()=>[l(p,{label:"éŸ³é¢‘æ–‡ä»¶"},{default:a(()=>[l(x,{ref:"translateUpload","auto-upload":!1,"on-change":K,"before-upload":P,accept:"audio/*",drag:""},{tip:a(()=>e[20]||(e[20]=[o("div",{class:"el-upload__tip"}," æ”¯æŒ mp3/wav/m4a/flac ç­‰æ ¼å¼ï¼Œæ–‡ä»¶å¤§å°ä¸è¶…è¿‡25MB ",-1)])),default:a(()=>[l(f,{class:"el-icon--upload"},{default:a(()=>[l(j(R))]),_:1}),e[21]||(e[21]=o("div",{class:"el-upload__text"},[r(" å°†éŸ³é¢‘æ–‡ä»¶æ‹–åˆ°æ­¤å¤„ï¼Œæˆ–"),o("em",null,"ç‚¹å‡»ä¸Šä¼ ")],-1))]),_:1,__:[21]},512)]),_:1}),l(p,{label:"ç›®æ ‡è¯­è¨€"},{default:a(()=>[l(B,{modelValue:m.targetLanguage,"onUpdate:modelValue":e[5]||(e[5]=n=>m.targetLanguage=n),placeholder:"é€‰æ‹©ç›®æ ‡è¯­è¨€"},{default:a(()=>[l(s,{label:"ä¸­æ–‡",value:"zh"}),l(s,{label:"English",value:"en"}),l(s,{label:"æ—¥æœ¬èªž",value:"ja"}),l(s,{label:"í•œêµ­ì–´",value:"ko"}),l(s,{label:"FranÃ§ais",value:"fr"}),l(s,{label:"Deutsch",value:"de"}),l(s,{label:"EspaÃ±ol",value:"es"})]),_:1},8,["modelValue"])]),_:1}),l(p,null,{default:a(()=>[l(V,{type:"primary",onClick:$,loading:U.value,disabled:!m.file},{default:a(()=>e[22]||(e[22]=[r(" å¼€å§‹ç¿»è¯‘ ")])),_:1,__:[22]},8,["loading","disabled"])]),_:1})]),_:1},8,["model"]),g.value?(k(),C("div",he,[e[23]||(e[23]=o("h4",null,"ç¿»è¯‘ç»“æžœï¼š",-1)),l(M,{modelValue:g.value.translatedText,"onUpdate:modelValue":e[6]||(e[6]=n=>g.value.translatedText=n),type:"textarea",rows:6,readonly:"",class:"result-text"},null,8,["modelValue"]),o("div",xe,[l(c,null,{default:a(()=>[r("æ–‡ä»¶ï¼š"+_(g.value.filename),1)]),_:1}),l(c,{type:"info"},{default:a(()=>[r("å¤§å°ï¼š"+_(I(g.value.fileSize)),1)]),_:1}),l(c,{type:"success"},{default:a(()=>[r("ç›®æ ‡è¯­è¨€ï¼š"+_(g.value.targetLanguage),1)]),_:1})])])):D("",!0)]),_:1,__:[24,25]})])]),_:1})]),_:1},8,["modelValue"])]),_:1})])}}}),Te=de(we,[["__scopeId","data-v-b9111d9d"]]);export{Te as default};
